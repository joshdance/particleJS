/*
 *	ParticleJS version 0.1.6 ALPHA
 *	MIT license - include header
 *
 *	By Epistemex (c) 2014
 *	www.epistemex.com
*/
"use strict";var ParticleJS={Physics2D:{},Shader2D:{},Emitter2D:{},Emitter3D:{},Tools:{}};Array.prototype.forEach=function(b,a){var g=Object(this),e=g.length>>>0,f=(a===void 0||a===null);for(var d=0;d<e;d++){if(d in g){if(f){b(g[d],d,g)}else{b.call(a,g[d],d,g)}}}};ParticleJS.Tools.getMapImage=function(z,q,g,j,k,e,v,o,l,c){var d=document.createElement("canvas"),m=d.getContext("2d"),A,B=0;d.width=z;d.height=q;if(c){m.fillStyle=c}m.fillRect(0,0,z,q);m.strokeStyle=l||"#fff";for(;B<j;B++){for(A=0;A<g;A++){var s=p(A,B),b=v[s],n=o[s],t=k*0.5,u=t*n;m.setTransform(1,0,0,1,A*k+t,B*e+e*0.5);m.rotate(b);m.moveTo(-u,0);m.lineTo(u,0);m.rect(u,-1,2,2)}}m.stroke();return d;function p(a,f){return gi=f*j+a}};ParticleJS.Tools.GridObject=function(d,c,a,b){this.width=d;this.height=c;this.cellsX=a;this.cellsY=b;this.cellWidth=d/a;this.cellHeight=c/b;this.aMap=new Float32Array(a*b);this.fMap=new Float32Array(a*b)};ParticleJS.Tools.GridObject.prototype.forEach=function(c){var d,e=0,a=this.cellsX,b=this.cellsY;for(;e<b;e++){for(d=0;d<a;d++){c(d,e)}}};ParticleJS.Tools.GridObject.prototype.getCellIndex=function(a,b){return b*this.cellsY+a};ParticleJS.Tools.GridObject.prototype.getCell=function(b,c){var a=this.getCellIndexFromXY(b,c);return{angle:this.aMap[a],force:this.fMap[a]}};ParticleJS.Tools.GridObject.prototype.setCell=function(d,e,a,b){var c=this.getCellIndexFromXY(d,e);if(a!==null){this.aMap[c]=a}if(b!==null){this.fMap[c]=b}};ParticleJS.Tools.GridObject.prototype.getCellIndexFromXY=function(c,d){var a=(c/this.cellWidth)|0,b=(d/this.cellHeight)|0;return b*this.cellsY+a};ParticleJS.Tools.GridObject.prototype.getCellAtIndex=function(a){return{angle:this.aMap[a],force:this.fMap[a]}};ParticleJS.Tools.GridObject.prototype.setCellAtIndex=function(c,a,b){if(a!==null){this.aMap[c]=a}if(b!==null){this.fMap[c]=b}};ParticleJS.Tools.GridObject.prototype.setCellAtXY=function(b,c,a,d){var e=this.getCellIndex(b,c);if(a!==null){this.aMap[e]=a}if(d!==null){this.fMap[e]=d}};ParticleJS.Tools.GridObject.prototype.clear=function(){this.aMap=new Float32Array(this.cellsX*this.cellsY);this.fMap=new Float32Array(this.cellsX*this.cellsY)};ParticleJS.Tools.GridObject.prototype.getAngleDist=function(a,b,e,f){var c=e-a*this.cellWidth,d=f-b*this.cellHeight;return{angle:Math.atan2(d,c),dist:Math.abs(c*c+d*d)}};ParticleJS.Tools.GridObject.prototype.getMapObj=function(){var a=new Float32Array(this.aMap),b=new Float32Array(this.fMap);return{width:this.width,height:this.height,cellsX:this.cellsX,cellsY:this.cellsY,aMap:a,fMap:b}};ParticleJS.Tools.GridObject.prototype.setMapObj=function(a){if(a.cellsX<1||a.cellsY<1||a.width<1||a.height<1||a.cellsX*a.cellsY!==a.aMap.length||a.cellsX*a.cellsY!==a.fMap.length){throw"Not a correctly initialized map object."}this.width=a.width;this.height=a.height;this.cellsX=a.cellsX;this.cellsY=a.cellsY;this.cellWidth=this.width/this.cellsX;this.cellHeight=this.height/this.cellsY;this.aMap=a.aMap;this.fMap=a.fMap};ParticleJS.Scene=function(j){j=j||{};var g=this,k=j.width||512,d=j.height||256,h=j.mode?j.mode:"",i=h==="3D",c=!!j.frameBound,b=j.FPS||60,f=[],a=[],e=performance.now();this.emitters=[];this.addCamera=function(l){if(!i){throw"Need to be in 3D mode to add a camera."}};this.addLight=function(l){if(!i){throw"Need to be in 3D mode to add a light."}};this.addEmitter=function(l){l.init({width:k,height:d});this.emitters.push(l);return this};this.preRoll=function(m){var p=performance.now();for(var o=0;o<m;o++){for(var n=0,l;l=this.emitters[n++];){}}return this};this.render=function(){var p=performance.now(),l=p-e,q=c?60/b:l/16.6667;e=p;for(var n=0,m;m=this.emitters[n++];){var o=((m.birthRate()*q)/l+0.5)|0;m.generateParticles(p,o);m.renderParticles(p,q);m.cleanupParticles(p)}return this};this.renderNoGeneration=function(){var o=performance.now(),l=o-e,p=c?60/b:l/16.6667;e=o;for(var n=0,m;m=this.emitters[n++];){m.renderParticles(o,p);m.cleanupParticles(o)}return this}};ParticleJS.Emitter2D=function(D){D=D||{};var B=this,Z,v,l=0.0174532925199433,G=0,X=["point","line","box","grid"],W=X.indexOf(D.type?D.type:"point"),aa=D.x,ab=D.y,m=D.endX||0,n=D.endY||0,c=D.boxRadius||20,u=D.gridWidth||0,t=D.gridHeight||0,e=D.cellsX||1,f=D.cellsY||1,g=u/e,d=t/f,a=typeof D.birthRate==="number"?D.birthRate:100,Y=(typeof D.velocity==="number"?D.velocity:100)*0.01,q=typeof D.globalForce==="number"?D.globalForce:1,C=typeof D.opacity==="number"?D.opacity:1,R=typeof D.size==="number"?D.size:1,z=(typeof D.life==="number"?D.life:3)*1000,o=(typeof D.feather==="number"?D.feather:0.4),A=(typeof D.maxParticles==="number"?D.maxParticles:32000),P=(typeof D.randomVelocity==="number"?D.randomVelocity:0),N=(typeof D.randomOpacity==="number"?D.randomOpacity:0),O=(typeof D.randomSize==="number"?D.randomSize:0),M=(typeof D.randomFeather==="number"?D.randomFeather:0),S=typeof D.spreadAngle==="number"?D.spreadAngle:360,T=typeof D.spreadOffset==="number"?D.spreadOffset:0,V=S*l,U=T*l,J=typeof D.r==="number"?D.r:255,s=typeof D.g==="number"?D.g:255,b=typeof D.b==="number"?D.b:255,r=D.gradient?D.gradient:null,L=D.randomColor||!1,Q,I=D.preRender,H=D.postRender,k=0,K=!1,E=[],F=[],j=0,i=1000;if(r){if(Array.isArray(r)){r={cache:r}}else{r.generate()}}this.init=function(h){Z=h.width;v=h.height;if(D.shader){B.setShader(D.shader)}};this.generateParticles=function(ap,ah){var h=0,aq=0,ar=0,at=0,ao=0,ai=0,w=0,al,am=af(),aj=p(this.opacityOverLife,0),x=p(this.featherOverLife,0),an=p(this.sizeOverLife,0);while(ah--){al=am();aq=ag(Y,P);ao=ag(R,O);ai=ag(C,N);w=ag(o,M);h=V*Math.random()+U;ar=aq*Math.cos(h);at=aq*Math.sin(h);var ak=new ParticleJS.Particle2D();ak.id=++G;ak.x=al.x;ak.y=al.y;ak.vx=ar;ak.vy=at;ak.angle=h;ak.sizeO=ao;ak.size=ak.sizeO*an;ak.sizeR=ak.sizeO*0.5;ak.life=z;ak.born=ap;ak.r=J;ak.g=s;ak.b=b;ak.opacityO=ai;ak.opacity=ai*aj;ak.featherO=o;ak.feather=o*x;E.push(ak)}function ag(av,au){return av-(au*av*Math.random())}function af(){switch(W){case 0:return ae;case 1:return ad;case 2:return y;case 3:return ac}}function ae(){return{x:aa,y:ab}}function ad(){function au(aw,ax,ay){return aw+(ax-aw)*ay}var av=Math.random();return{x:au(aa,m,av),y:au(ab,n,av)}}function y(){return{x:aa+(Math.random()-0.5)*c,y:ab+(Math.random()-0.5)*c}}function ac(){var au=(Math.random()*e)|0,av=(Math.random()*f)|0;return{x:aa+au*g,y:ab+av*d}}};this.renderParticles=function(y,ac){k=0;if(I){Q.preRender()}x(E,F);if(H){Q.postRender({count:k,total:G})}for(var h=0,w=F.length;h<w;h++){F[h].updateFrame({count:k})}function x(ah,ai){var aj,ag,ad=B,ae=ac*q;if(K){for(aj=ah.length-1;ag=ah[aj];aj--){if(k>=A){break}ak(ad,ae,ag)}}else{aj=Math.max(0,ah.length-A);for(;ag=ah[aj];aj++){if(k>=A){break}ak(ad,ae,ag)}}function ak(al,am,ap){ap.updateLife(y);if(ap.isActive){k++;var an=ap.lifeIndex;ap.opacity=ap.opacityO*p(al.opacityOverLife,an);ap.feather=ap.featherO*p(al.featherOverLife,an);ap.size=ap.sizeO*p(al.sizeOverLife,an);ap.sizeR=ap.size*0.5;for(var ao=0,aq=ai.length;ao<aq;ao++){ai[ao].apply(ap)}ap.px=ap.x;ap.py=ap.y;ap.x+=ap.vx*am;ap.y+=ap.vy*am;ap.angle=af(ap.px,ap.py,ap.x,ap.y);if(ap.size>=1&&ap.opacity){Q.renderParticle(ap)}}}function af(an,ap,ao,aq){var al=ao-an,am=aq-ap;return Math.atan2(am,al)}}};this.cleanupParticles=function(x){if(x-i>j){j=x;var y=[],h=0,w;for(;w=E[h];h++){if(w.isActive){y.push(w)}}E=y}};function p(h,y){var x=h.length-1,w=(x*y)|0;return h[w]||0}this.sizeOverLife=new Float32Array([1]);this.opacityOverLife=new Float32Array([1]);this.featherOverLife=new Float32Array([1]);this.addPhysics=function(w,h){if(w.init&&w.apply){F.push(w);w.init({width:Z,height:v,callback:h})}return this};this.setShader=function(w,h){if(w&&w.init){Q=w;Q.init({width:Z,height:v,r:J,g:s,b:b,gradient:r,rndColor:L,callback:function(x){if(!x){throw"Fatal: Could not init renderer."}if(h){h(!0)}}})}return this};this.position=function(h,w){if(!arguments.length){return{x:aa,y:ab}}aa=h;ab=w;return this};this.line=function(h,x,w,y){if(!arguments.length){return{x0:aa,y0:ab,x1:m,y1:n}}aa=h;ab=x;m=w;n=y;return this};this.boxRadius=function(h){if(!arguments.length){return c}c=h;return this};this.gridSize=function(w,h){if(!arguments.length){return{width:u,height:t}}u=w;t=h;g=u/e;d=t/f;return this};this.gridCells=function(h,w){if(!arguments.length){return{cellsX:e,cellsY:f}}e=h;f=w;g=u/e;d=t/f;return this};this.type=function(h){if(!arguments.length){return X[W]}var w=X.indexOf(h);if(w>-1){W=w}return this};this.birthRate=function(h){if(!arguments.length){return a}if(h<0){h=0}a=h;return this};this.feather=function(h){if(!arguments.length){return o}if(h<0){h=0}else{if(h>1){h=1}}o=h;return this};this.opacity=function(h){if(!arguments.length){return C}if(h<0){h=0}C=h;return this};this.life=function(h){if(!arguments.length){return z*0.001}z=h*1000;return this};this.velocity=function(h){if(!arguments.length){return Y*100}Y=h*0.01;return this};this.size=function(h){if(!arguments.length){return R}if(h<1){h=1}R=h;return this};this.spread=function(h){if(!arguments.length){return h}S=h;V=h*l;return this};this.spreadAngle=function(h){if(!arguments.length){return T}T=h;U=h*l;return this};this.globalForce=function(h){if(!arguments.length){return q}q=h;return this};this.translate=function(h,w){for(var x=0,ac;ac=E[x++];){for(var ad=0,y;y=ac[ad++];){if(y.isActive){y.x+=h;y.y+=w}}}return this};this.rotate=null;this.scale=null;this.reverseZ=function(h){if(!arguments.length){return K}if(typeof h==="boolean"){K=h}return this};this.clear=function(h){E=[];if(typeof h==="number"){this.birthRate(h)}return this};this.preRender=function(h){if(!arguments.length){return I}if(typeof h==="boolean"){I=h}return this};this.postRender=function(h){if(!arguments.length){return H}if(typeof h==="boolean"){H=h}return this}};ParticleJS.Particle2D=function(){this.id=0;this.x=0;this.y=0;this.px=0;this.py=0;this.vx=0;this.vy=0;this.velocity=0;this.spreadAngle=0;this.angle=0;this.r=255;this.g=255;this.b=255;this.size=0;this.sizeR=0;this.sizeO=0;this.opacity=1;this.opacityO=1;this.feather=0;this.featherO=0;this.born=0;this.life=0;this.lifeIndex=0;this.width=0;this.height=0;this.isActive=!0};ParticleJS.Particle2D.prototype.updateLife=function(c){if(this.isActive){var b=c-this.born,a=this.life-b;this.lifeIndex=Math.max(0,Math.min(b/this.life,1));this.isActive=(a>0)}};ParticleJS.Physics2D.Gravity=function(a,b){a=a||0;b=b||0;this.airRest=0;this.init=function(c){if(c.callback){c.callback(!0)}};this.apply=function(c){c.vx+=a;c.vy+=b};this.updateFrame=function(c){};this.gravityX=function(c){if(!arguments.length){return a}a=c;return this};this.gravityY=function(c){if(!arguments.length){return b}b=c;return this}};ParticleJS.Physics2D.Wind=function(d,n,i,j){d=(typeof d==="number")?d:0;n=(typeof n==="number")?n:0;i=i||32;j=j||32;var s=!1,t,r,k,g,l=0.0174532925199433,e=d*l,o=0,b=0,c=0.1,p=0,a=new Float32Array(i*j),m=new Float32Array(i*j);this.init=function(h){t=h.width;r=h.height;s=!0;f();if(h.callback){h.callback(!0)}};this.apply=function(h){h.vx+=n*Math.cos(e);h.vy+=n*Math.sin(e)};function q(w,z){var u=(w/k)|0,v=(z/g)|0,h=v*j+u;return{angle:a[h],force:m[h]}}function f(){if(!s){return}var v,w;k=t/i;g=r/j;for(w=0;w<j;w++){for(v=0;v<i;v++){var u=h(v,w);a[u]=e;m[u]=n}}function h(z,A){return A*j+z}}this.updateFrame=function(h){};this.windAngle=function(h){if(!arguments.length){return d}d=h;e=h*l;f();return this};this.windForce=function(h){if(!arguments.length){return n}n=h;f();return this}};ParticleJS.Physics2D.WindSimple=function(a,e){a=(typeof a==="number")?a:0;e=(typeof e==="number")?e:0;var d=0.0174532925199433,b=a*d,c=Math.cos(b),f=Math.sin(b);this.init=function(g){if(g.callback){g.callback(!0)}};this.apply=function(g){g.vx+=e*c;g.vy+=e*f};this.updateFrame=function(g){};this.windAngle=function(g){if(!arguments.length){return a}a=g;b=g*d;c=Math.cos(b);f=Math.sin(b);return this};this.windForce=function(g){if(!arguments.length){return e}e=g;return this}};ParticleJS.Physics2D.Turbulence=function(e,f,n){e=e||32;f=f||32;n=(typeof n==="number")?n:0.05;var s=!1,C,r,g,d,A=20,x=0,z=5,y=0,t,v=10,u=50,B=new Array(A),l=new Array(A),j,i,a=2,m=4,k=0.1,o=0.8;this.init=function(h){C=h.width;r=h.height;g=C/e;d=r/f;s=!0;b();if(h.callback){h.callback(!0)}};this.apply=function(E){if(n){var D=p(E.x,E.y),h=D.a,w=D.f;E.vx+=n*Math.cos(h)*w;E.vy+=n*Math.sin(h)*w}};this.updateFrame=function(h){if(s&&n&&h.count){y++;if(y===z){y=0;x++;if(x===t.length){x=0;c()}j=B[t[x]];i=l[t[x]]}}};function p(E,F){var w=(E/g)|0,D=(F/d)|0,h=D*f+w;return{a:j[h],f:i[h]}}function q(h,w){return w*f+h}function b(){if(!s){return}var N,O,P,H,I=Math.PI*2,J=I*Math.random()-Math.PI,F=e,G=f,K=new ParticleJS.Physics2D.Turbulence.SimplexNoise(),L=new ParticleJS.Physics2D.Turbulence.SimplexNoise();for(P=0;P<A;P++){var M=new Float32Array(e*f),h=(P/A)*a;for(O=0;O<G;O++){for(N=0;N<F;N++){H=K.noise3D((N/F)*a,(O/G)*a,h);M[q(N,O)]=H*I+J+I*k*Math.random()}}B[P]=M}for(P=0;P<A;P++){var D=new Float32Array(e*f),w=(P/A)*a;for(O=0;O<G;O++){for(N=0;N<F;N++){H=L.noise3D(N/F*m,O/G*m,w);D[q(N,O)]=E(1-(H*o))}}l[P]=D}x=0;j=B[0];i=l[0];c();function E(Q){return Math.max(0,Math.min(1,Q))}}function c(){var G=(u+1)*v-1,h=u*v,E=-1,F=0,w=0;t=new Uint8Array(G);for(;w<h;w++){if(w%v===0){if(E<0){E=(Math.random()*A)|0;F=(Math.random()*A)|0}else{E=F;F=(Math.random()*A)|0}}t[w]=D(E,F,(w%v)/v)}E=F;F=t[0];for(;w<G;w++){t[w]=D(E,F,(w%v)/v)}function D(H,I,J){return H+(I-H)*J}}this.force=function(h){if(!arguments.length){return n}n=h;return this};this.forceVariation=function(h){if(!arguments.length){return o}o=h;b();return this};this.offsetVariation=function(h){if(!arguments.length){return k}k=h;b();return this};this.octavesAngleMap=function(h){if(!arguments.length){return a}a=h|0;b();return this};this.octavesForceMap=function(h){if(!arguments.length){return m}m=h|0;b();return this};this.generate=function(){b();return this};this.getMapImage=function(){return ParticleJS.Tools.getMapImage(C,r,e,f,g,d,j,i,"rgba(90, 90, 255, 0.5)")}};ParticleJS.Physics2D.Turbulence.SimplexNoise=function(){this.perm=new Uint8Array(512);this.grad3=[[1,1,0],[-1,1,0],[1,-1,0],[-1,-1,0],[1,0,1],[-1,0,1],[1,0,-1],[-1,0,-1],[0,1,1],[0,-1,1],[0,1,-1],[0,-1,-1]];for(var a=0;a<256;a++){this.perm[a]=this.perm[a+256]=Math.random()*256}};ParticleJS.Physics2D.Turbulence.SimplexNoise.prototype.noise3D=function(M,R,W){var x,y,z,A,C=(M+R+W)*0.33333333333,g=(M+C)|0,n=(R+C)|0,r=(W+C)|0,D=(g+n+r)*0.16666666667,I=M-(g-D),N=R-(n-D),S=W-(r-D),m,q,w,b,c,d,e,J,O,T,K,P,U,L,Q,V,E,F,G,H,h,o,u,l,p,v,f=this.grad3,B=this.perm;if(I>=N){if(N>=S){h=l=p=1;o=u=v=0}else{if(I>=S){h=l=v=1;o=u=p=0}else{h=o=p=0;u=l=v=1}}}else{if(N<S){h=l=o=0;u=p=v=1}else{if(I<S){h=u=l=0;o=p=v=1}else{h=u=v=0;o=l=p=1}}}J=I-h+0.16666666667;O=N-o+0.16666666667;T=S-u+0.16666666667;K=I-l+0.33333333333;P=N-p+0.33333333333;U=S-v+0.33333333333;L=I-0.5;Q=N-0.5;V=S-0.5;m=g&255;q=n&255;w=r&255;b=B[m+B[q+B[w]]]%12;c=B[m+h+B[q+o+B[w+u]]]%12;d=B[m+l+B[q+p+B[w+v]]]%12;e=B[m+1+B[q+1+B[w+1]]]%12;E=0.5-I*I-N*N-S*S;x=y=z=A=0;if(E>=0){E*=E;x=E*E*a(f[b],I,N,S)}F=0.6-J*J-O*O-T*T;if(F>=0){F*=F;y=F*F*a(f[c],J,O,T)}G=0.6-K*K-P*P-U*U;if(G>=0){G*=G;z=G*G*a(f[d],K,P,U)}H=0.6-L*L-Q*Q-V*V;if(H>=0){H*=H;A=H*H*a(f[e],L,Q,V)}return(16*(x+y+z+A)+0.5);function a(i,j,k){return i[0]*j+i[1]*k}};ParticleJS.Physics2D.Vortex=function(e,f,q,c,d,i){e=e||0;f=f||0;q=(typeof q==="number")?q:100;c=c||32;d=d||32;i=(typeof i==="number")?i:0.5;var n=!1,l,r=0.75,a=1,s=0.5,g=-1,j=0.5,m=1,p=0.05,o=1;this.init=function(t){l=new ParticleJS.Tools.GridObject(t.width,t.height,c,d);n=!0;b();if(t.callback){t.callback(!0)}};this.apply=function(x){if(n&&i&&q){var y=l.getCell(x.x,x.y),t=y.angle,u=y.force;x.vx+=i*u*Math.cos(t);x.vy+=i*u*Math.sin(t)}};this.updateFrame=function(t){};function b(){if(!n){return}var t=q*q,v=0.25*g*Math.PI*2,u=-v*r;l.clear();l.forEach(function(A,B){var z=l.getAngleDist(A,B,e,f);if(z.dist<=t){l.setCellAtXY(A,B,z.angle+v+u,m+(p-m)*(z.dist/t))}})}function k(t,u){return u*d+t}this.direction=function(t){if(!arguments.length){return g<0?"cw":"ccw"}var u=t==="cw"?-1:1;if(u===g){return this}g=u;b();return this};this.radius=function(t){if(!arguments.length){return q}q=t;b();return this};this.force=function(t){if(!arguments.length){return i}i=t;b();return this};this.forceGradient=function(u,t){if(!arguments.length){return{outer:p,inner:m}}if(typeof u==="object"){p=u.outer;m=u.inner}else{p=u;m=t}b();return this};this.suction=function(t){if(!arguments.length){return r}r=t;b();return this};this.settings=function(t){if(!arguments.length){return{x:e,y:f,radius:q,cellsX:c,cellsY:d,force:i,innerForce:m,outerForce:p,suction:r}}e=t.x||f;f=t.y||e;q=(typeof t.radius==="number")?t.radius:q;c=t.cellsX||c;d=t.cellsY||d;i=(typeof t.force==="number")?t.force:i;r=(typeof t.suction==="number")?t.suction:r;p=(typeof t.outerForce==="number")?t.outerForce:p;m=(typeof t.innerForce==="number")?t.innerForce:m;b();return this};this.generate=function(){b();return this};this.getMapImage=function(){return ParticleJS.Tools.getMapImage(w,h,c,d,cellWidth,cellHeight,tMap,fMap,"rgba(230, 200, 90, 1)")}};ParticleJS.Shader2D.Canvas=function(a,l){l=l||{};var i,u,j,m=!1,e=null,s=50,r=s*0.5,d=l.clearOpacity||1,k=l.keepAlpha||!1,n=30,t=1/n,b=32,o=n-1,c=b-1,p=document.createElement("canvas"),q=document.createElement("canvas"),f=p.getContext("2d"),g=q.getContext("2d");this.init=function(v){var x=(v.gradient!==null),y=0,w,z;u=a.width=v.width;j=a.height=v.height;i=a.getContext("2d");p.width=s*n;p.height=x?s*b:s;if(!x){b=0}else{m=v.rndColor}q.width=p.width>>1;q.height=p.height>>1;f.save();f.shadowColor=x?"#fff":"rgb("+v.r+","+v.g+","+v.b+")";for(;y<n;y++){w=r*y*t*0.67;z=r-w;f.beginPath();f.arc(-r,r,z,0,2*Math.PI);f.shadowOffsetX=s*(y+1);f.shadowBlur=w;f.fill()}f.restore();if(x){for(y=s;y<p.height;y*=2){f.drawImage(p,0,0,p.width,y,0,y,p.width,y)}f.globalCompositeOperation="source-atop";for(y=0;y<b;y++){var h=v.gradient.getColor(y/b);f.fillStyle="rgb("+h.r+","+h.g+","+h.b+")";f.fillRect(0,y*s,p.width,s)}}g.drawImage(p,0,0,p.width,p.height,0,0,q.width,q.height);if(typeof i.imageSmoothingEnabled!=="undefined"){i.imageSmoothingEnabled=!1}else{if(typeof i.oImageSmoothingEnabled!=="undefined"){i.oImageSmoothingEnabled=!1}else{if(typeof i.mozImageSmoothingEnabled!=="undefined"){i.mozImageSmoothingEnabled=!1}else{if(typeof i.webkitImageSmoothingEnabled!=="undefined"){i.webkitImageSmoothingEnabled=!1}}}}i.fillStyle="rgba(0,0,0,"+d+")";v.callback(!0)};this.preRender=function(){if(d===1){i.clearRect(0,0,u,j)}else{i.globalAlpha=d;if(k){i.globalCompositeOperation="source-atop";i.fillRect(0,0,u,j);i.globalCompositeOperation="source-over"}else{i.fillRect(0,0,u,j)}}};this.renderParticle=function(w){var v=(o*w.feather)|0,x=v*s,h=m?(c*Math.random())|0:(c*w.lifeIndex)|0,y=h*s;i.globalAlpha=w.opacity;if(w.size>r){i.drawImage(p,x,y,s,s,w.x-w.sizeR,w.y-w.sizeR,w.size,w.size)}else{i.drawImage(q,x>>1,y>>1,r,r,w.x-w.sizeR,w.y-w.sizeR,w.size,w.size)}};this.postRender=function(h){var v=i.fillStyle;i.fillStyle="#fff";i.globalAlpha=1;i.fillText(h.count,10,10);i.fillStyle=v};this.clear=function(){if(u){i.clearRect(0,0,u,j)}return this};this.clearOpacity=function(h){if(!arguments.length){return d}d=h;i.fillStyle="rgba(0,0,0,"+d+")";return this};this.keepAlpha=function(h){if(!arguments.length){return k}if(typeof h==="boolean"){k=h}return this};this.setClip=function(h){i.restore();i.save();if(!Array.isArray(h)){throw"Need a polygon array"}e=h;i.beginPath();i.moveTo(h[0].x,h[0].y);for(var v=0,w;w=h[v];v++){i.lineTo(w.x,w.y)}i.clip()}};ParticleJS.Gradient=function(){this.width=256;this.stops=[];this.cache=null};ParticleJS.Gradient.prototype.addStop=function(b,a){this.stops.push({pos:b,color:a});return this};ParticleJS.Gradient.prototype.generate=function(){var k=this.width,d=document.createElement("canvas"),e=d.getContext("2d"),f=e.createLinearGradient(0,0,k,0),h,a,g=0,j=0,b;d.width=k;d.height=1;for(;b=this.stops[g++];){f.addColorStop(b.pos,b.color)}e.fillStyle=f;e.fillRect(0,0,k,1);h=e.getImageData(0,0,k,1);a=h.data;this.cache=new Uint8Array(k*3);for(g=0;g<a.length;g+=4){this.cache[j++]=a[g];this.cache[j++]=a[g+1];this.cache[j++]=a[g+2]}};ParticleJS.Gradient.prototype.getColor=function(b){b=Math.min(1,Math.max(0,b));var a=((b*this.width)|0)*3;return{r:this.cache[a],g:this.cache[a+1],b:this.cache[a+2]}};